<!doctype html>
<html dir='rtl' lang="ar">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#f3f4f6">

   <link href="dist/output.css" rel="stylesheet">
   <link href="styley.css" rel="stylesheet" type="text/css" /> 
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>      
  <link href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@1,300&display=swap" rel="stylesheet">

</head>
<body> 
    <div class="main sm:bg-gradient-to-bl bg-gray-100 sm:from-gray-100 sm:via-grey-200 sm:to-gray-400 w-screen min-h-screen flex justify-center items-center flex-nowrap ">
      <div class=" sm:p-4 p-8 w-full h-full relative sm:mr-24">
        <img src="#" id="iphoneMockUp" decoding="sync" class="object-contain w-full h-[50px] sm:h-[800px] 2xl:h-[1000px] invisible sm:visible"/>
        <div class="inset-0 sm:pt-0 pt-12 sm:pl-24 2xl:pl-32 absolute sm:h-[800px] 2xl:h-[1000px] h-full flex justify-center items-center scroll-smooth">
          <div class="bot sm:w-[300px] sm:h-[600px] 2xl:w-[380px] 2xl:h-[750px] overflow-auto w-full h-full px-4 py-4 pb-32 sm:pb-4 flex flex-col space-y-4" id="bot">
        
                <!-- Bot Chat -->
          </div>
        </div>
      </div>
    </div>
  
  
  <!--#3 Javascript Files-->
  <script src="zenscroll-latest/zenscroll-min.js"></script>
  <script>

var myDiv = document.getElementById("bot")
var myScroller = zenscroll.createScroller(myDiv, 500, 5)


function delay(time) {return new Promise(resolve => setTimeout(resolve, time));}
function userBox(t, id){ return `<div class="w-full  transition" >
                                    <div class="py-1 px-4 w-fit max-w-[75%] rounded-full shadow-lg  bg-slate-300 ">
                                        <p class="break-normal md:text-xs lg:text-sm 2xl:text-xl text-sm text-gray-600 "> ${ t } </p></div></div>`}
function botBox(t, id){ return `<div class="w-full grid justify-items-end  transition ">
                                    <div class="py-1 px-4 w-fit max-w-[75%] rounded-full shadow-lg  bg-slate-400 "> 
                                        <p class="break-normal md:text-xs lg:text-sm 2xl:text-xl text-sm text-gray-100 "> ${ t } </p></div></div>`}

var promise = new Promise(function(resolve, reject) {
    resolve(1);
  });

function hourGlass(args){
    args.time = args.time ?? 1000;
    args.user = args.user ?? false 
    

    return new Promise(async function(resolve, reject) {
        const botDiv = document.getElementById("bot");
        var div = document.createElement("div");
        div.innerHTML += args.user ? userBox("&#9203") : botBox("&#9203");
        botDiv.appendChild(div);
        myScroller.intoView(div, 500);
        await delay(args.time);
        div.classList.add("transition-opacity", "opacity-0");
        resolve(div);
        await delay(150)
    })
}

function eyesButton(){
    
  let waitForPressResolve;
  function waitForPress() {return new Promise(resolve => waitForPressResolve = resolve)}
  function btnResolver() {if (waitForPressResolve) waitForPressResolve()}

  return new Promise(async function(resolve, reject) {
      var div = document.createElement("div");
      div.innerHTML += `<div class="w-full">
                              <div class="max-w-[75%] transition">  
                                  <button id="btn" class="py-1 px-4 w-auto rounded-full shadow-lg  bg-orange-500 break-normal text-sm text-gray-100 transition hover:bg-slate-300 hover:text-gray-600 "> ğŸ‘€ </button></div></div>`
      await delay(400);
      const botDiv = document.getElementById("bot");
      botDiv.appendChild(div);
      const btn = document.getElementById("btn");
      myScroller.intoView(div, 500);
      btn.addEventListener('click', btnResolver);
      await waitForPress();
      div.classList.add("transition-opacity", "opacity-0");
      await delay(150);
      resolve(div);
  });
}

function END(){
    return new Promise(async function(resolve, reject) {
        const botDiv = document.getElementById("bot");
        await delay(400);
        var div = document.createElement("div");
        div.innerHTML += `<div class="w-full grid justify-items-end transition " >
                  <div class="py-1 px-[1%] w-full  flex justify-end items-center"> 
                      
                    
                      <p class="w-full text-left pl-[5%]"> 
                        <a href="http://www.twitter.com" style="font-family: Ubuntu;" class="text-blue-500 underline  2xl:text-xl md:text-lg "> saryah@ </a> 
                      </p>
                    

                    <div class="bg-gray-100 rounded-lg shadow-inner shadow-lg border-[0.5px] border-gray-300 aspect-square  w-4/12 flex justify-center items-center p-[5%]">
                      <img src="dear.png" class=" object-contain w-full"/>
                    </div>
                    <div class="w-3/12"></div>   
                  </div>
                </div>`
        botDiv.appendChild(div)
        myScroller.intoView(div, 500);
        resolve(1);
    });
}

function addTextBox(args){
    args.wait = args.wait ?? 0
    args.user = args.user ?? false 
    
    const botDiv = document.getElementById("bot");
    var div = document.createElement("div")
    div.innerHTML += args.user ? userBox(args.text) : botBox(args.text);
    
    return new Promise(async function(resolve, reject) {
        if (args.wait > 0){
            hg = await hourGlass({wait: args.wait, user: args.user});
            await delay(100);
            botDiv.replaceChild(div, hg)
        }
        if (args.eyes){
          eyes = await eyesButton();
          botDiv.replaceChild(div, eyes)

        }else {
          await delay(100);
          botDiv.appendChild(div)
          
        }
        
        myScroller.intoView(div, 500);
        await delay(500);
        resolve(div);
        });
}

function loadImage(src, id) {
  return new Promise((resolve, reject) => {
    const img = document.getElementById(id);
    img.onload = () => resolve(img);
    img.onerror = reject;
    img.src = src;
  })  
}
   

  </script>
  <script>

    loadImage("iphone.png", "iphoneMockUp").then(function(){
      return addTextBox({
        text: "ÙŠØ§Ù‡Ù„Ø§ ÙˆØ§Ù„Ù„Ù‡ ğŸ˜"
        })
    }).then(function(div){
      return addTextBox({
        text: "Ø­ÙŠØ§Ùƒ Ø§Ù„Ù„Ù‡ ÙÙŠ Ø³Ø§Ø±ÙŠØ©",
        last: div
      })
    }).then(function(div){
      return addTextBox({
        text: "Ù‡Ù„Ø§ ÙˆØºÙ„Ø§ ",
        user: true,
        last: div,
        eyes: true
      });
    }).then(function(div){
      return addTextBox({
        text: "Ø£ÙƒÙŠØ¯ ØªØ³ØªØ®Ø¯Ù… ÙˆØ§ØªØ³Ø§Ø¨ ØŸ!  ğŸ˜",
        wait: 600
      });
    }).then(function(div){
      return addTextBox({
        text: "Ø§ÙŠÙ‡ Ù†Ø¹Ù… Ø§Ø³ØªØ®Ø¯Ù…Ù‡",
        user: true,
        last: div,
        eyes:true
      });
    }).then(function(div){
      return addTextBox({
        text: "ØªØ³ÙˆÙ„Ù Ù…Ø¹ Ø§ØµØ­Ø§Ø¨Ùƒ ÙˆØ§Ù‡Ù„Ùƒ ÙÙŠÙ‡ ØŸ ğŸ¤”",
        wait: 600      
      });
    }).then(function(div){
      return addTextBox({
        text: "ğŸ˜‘",
        user: true,
        eyes: true
      });
    }).then(function(div){
      return addTextBox({
        text: "Ø£ÙƒÙŠØ¯",
        user: true
      });
    }).then(function(div){
      return addTextBox({
        text: "Ø­Ù„Ùˆ",
        wait: 600
      });
    }).then(function(div){
      return addTextBox({
        text: "Ø§ØºÙ„Ø¨Ù†Ø§ Ø¯Ø§Ø®Ù„ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© Ù†Ù‚Ø¶ÙŠ ÙƒÙ„ Ø§Ù…ÙˆØ±Ù†Ø§ Ø¨Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨",
        wait: 1300
      });
    }).then(function(div){
      return addTextBox({
        text: "ØªÙˆØ§ÙÙ‚Ù†ÙŠ ØŸ",
        wait: 600
      });
    }).then(function(div){
      return addTextBox({
        text: "ğŸ¤”",
        user: true,
        eyes: true
      });
    }).then(function(div){
      return addTextBox({
        text: "ØµØ­ÙŠØ­",
        user: true
      });
    }).then(function(div){
      return addTextBox({
        text: `Ù„ÙƒÙ† Ø§ÙƒÙŠØ¯ Ø¹Ø´Ø§Ù† ØªØ®Ù„Øµ Ø§Ù…ÙˆØ±Ùƒ ØªØ­ØªØ§Ø¬ ØªÙƒÙ„Ù… Ø§Ø­Ø¯ Ø¨Ø§Ù„ÙˆØ§ØªØ³ ØŸ!`,
        wait: 1200
      });
    }).then(function(div){
      return addTextBox({
        text: "Ø£ÙƒÙŠØ¯ØŒ Ù…Ø§Ø¹Ù†Ø¯ÙŠ Ø¬Ù† ÙŠØ®Ø¯Ù…ÙˆÙ†ÙŠ!",
        user: true,
        eyes: true
      });
    }).then(function(div){
      return addTextBox({
        text: `ğŸ˜‚`
      });
    }).then(function(div){
      return addTextBox({
        text:  `Ø±Ø³Ø§Ù„Ø© Ø³Ø§Ø±ÙŠØ© ØªØ®Ù„Øµ Ù„Ùƒ Ø§Ù…ÙˆØ±Ùƒ Ù…Ù† Ø¯ÙˆÙ† Ù…Ø§ØªÙƒÙ„Ù… Ø£Ø­Ø¯ `
      });
    }).then(function(div){
      return addTextBox({
        text: `Ù‚Ø±ÙŠØ¨Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø¢Ø¨ Ø³ØªÙˆØ±`
      });
    }).then(function(div){
      return END()
    });
  </script>
  
</body>
</html>
